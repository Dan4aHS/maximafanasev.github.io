<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Обучение Javascript</title>
    <meta name="description" content="Самостоятельное обучение">
    <link rel="stylesheet" href="main.css">
</head>

<body>
    <a href="index.html">Home</a>
    <h2>Объекты</h2>
    <pre>
        1. Реализуйте и экспортируйте по умолчанию функцию, которая сравнивает объекты по совпадению данных, а не по ссылкам. 
        Эта функция принимает на вход две компании и возвращает true, если их структура одинаковая, и false в обратном случае. 
        Проверка должна проходить по свойствам name, state, website.
    </pre>
    <pre>
        2. Реализуйте и экспортируйте по умолчанию функцию, которая принимает на вход имя сайта и возвращает информацию о нем:
    </pre>
    <pre>
        3. Реализуйте и экспортируйте функцию по умолчанию, которая формирует из 
        переданного объекта другой объект, включающий только указанные свойства. 
        Параметры:

        Исходный объект
        Массив имен свойств

        const data = {
            user: 'ubuntu',
            cores: 4,
            os: 'linux',
          };
           
          pick(data, ['user']); // { user: 'ubuntu' }
          pick(data, ['user', 'os']); // { user: 'ubuntu', os: 'linux' }
          pick(data, []); // {}
          // Если такого свойства нет в исходных данных,
          // то оно игнорируется 
          pick(data, ['none', 'cores']); // { cores: 4 }
    </pre>
    <pre>
        4. Реализуйте функцию, которая извлекает из объекта любой глубины вложенности значение по указанным ключам. Параметры:

        Исходный объект
        Цепочка ключей (массив), по которой ведётся поиск значения
        В случае, когда добраться до значения невозможно, возвращается null.
    </pre>
    <script>// BEGIN
        const check = (company1, company2) => {
            const keys = ['name', 'state', 'website'];
            for (const key of keys) {
                if (company1[key] !== company2[key]) {
                    return false;
                }
            }

            return true;
        };
        console.log('1 задача')
        const company1 = {
            name: 'Hexlet',
            state: 'moderating',
            website: 'https://hexlet.io'
        };
        const company2 = {
            name: 'CodeBasics',
            state: 'published',
            website: 'https://code-basics.com'
        };
        console.log(check(company1, company2)); // false

        const company3 = {
            name: 'Hexlet',
            state: 'published',
            website: 'https://hexlet.io'
        };
        const company4 = {
            name: 'Hexlet',
            state: 'published',
            website: 'https://hexlet.io'
        };
        console.log(check(company3, company4)); // true
        // END
    </script>
    <script>
        // BEGIN
        const getDomainInfo = (domain) => {
            let scheme = '';
            if (domain.startsWith('https://')) {
                scheme = 'https';
                // else if другие протоколы
            } else {
                scheme = 'http';
            }

            const name = domain.replace(`${scheme}://`, '');

            return { scheme, name };
        };
        console.log('2 задача')
        console.log(getDomainInfo('yandex.ru'));
        console.log(getDomainInfo('https://hexlet.io'));
        console.log(getDomainInfo('http://google.com'));
// END
    </script>
    <script>

        // BEGIN
        const data = {
            user: 'ubuntu',
            cores: 4,
            os: 'linux',
        };
        const pick = (data, keys) => {
            const result = {};

            for (const key of keys) {
                if (Object.hasOwn(data, key)) {
                    result[key] = data[key];
                }
            }

            return result;
        }
        console.log('3 задача')
        console.log(pick(data, ['user'])); // { user: 'ubuntu' }
        console.log(pick(data, ['user', 'os'])); // { user: 'ubuntu', os: 'linux' }
        console.log(pick(data, [])); // {}
        // Если такого свойства нет в исходных данных,
        // то оно игнорируется 
        console.log(pick(data, ['none', 'cores'])); // { cores: 4 }
// END
    </script>
    <script>
        // BEGIN
        const data2 = {
            user: 'ubuntu',
            hosts: {
                0: {
                    name: 'web1',
                },
                1: {
                    name: 'web2',
                    null: 3,
                    active: false,
                },
            },
        };
        const get = (data, keys) => {
            let current = data;
            for (const key of keys) {
                const hasProperty = Object.hasOwn(current, key);
                if (!hasProperty) {
                    return null;
                }
                current = current[key];
            }

            return current;
        };
        console.log('4 задача')
        console.log(get(data2, ['undefined'])); // null
        console.log(get(data2, ['user'])); // 'ubuntu'
        console.log(get(data2, ['user', 'ubuntu'])); // null
        console.log(get(data2, ['hosts', 1, 'name'])); // 'web2'
        console.log(get(data2, ['hosts', 0])); // { name: 'web1' }
        console.log(get(data2, ['hosts', 1, null])); // 3
        console.log(get(data2, ['hosts', 1, 'active'])); // false

// END
    </script>
</body>

</html>